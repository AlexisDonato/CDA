{% extends 'base.html.twig' %}

{% block title %}Catégories
{% endblock %}

{% block body %}
<div class="container">
	{% if categories|length > 0 %}

		<h1 class="text-info mb-3 mt-3">Catégories :</h1>
		{% set col = 1 %}
		{% for category in categories %}
			{% if (col == 1)%}
				<div class="row">
				{% endif %}
				<div class="col-4">

					<div class="dropdown">
						<button data-toggle="dropdown" id="category" class="btn btn-dark border border-secondary text-decoration-none d-flex mt-1 mb-1 position-relative align-items-center">
							<i class="fa-solid fa-guitar text-secondary"></i>
							<h2>
								{% if category.parentCategory %}
									<a class="text-decoration-none text-light ml-3 mr-3" href="{{ path('app_catalogue', {'category': category.parentCategory.id}) }}">
										{{ category.parentCategory }}
									</a>
								</h2>
							</button>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="{{ path('app_catalogue', {'category': category.id}) }}">{{ category.name }}</a>
							</div>
					</div>
								{% else %}
									<a class="text-decoration-none text-light ml-3 mr-3" href="{{ path('app_catalogue', {'category': category.id}) }}">
										{{ category.name }}
									</a>
								</h2>
								<h2 class="badge rounded-pill border border-light bg-secondary text-white ml-1">{{ category.products|length }}</h2>
							</button>
					</div>
								{% endif %}

		{# <li style="list-style-type: none;" class="mt-1 mb-1 ml-3 mr-3">
												<button id="category" class="btn btn-dark border border-secondary text-decoration-none d-flex mt-1 mb-1 position-relative align-items-center">
													<i class="fa-solid fa-guitar text-secondary"></i>
													<h2>
														<a class="text-decoration-none text-light ml-3 mr-3" href="{{ path('app_catalogue', {'category': category.id}) }}">
															{{ category.name }}
														</a>
													</h2>
													<h2 class="badge rounded-pill border border-light bg-secondary text-white ml-1">{{ category.products|length }}</h2>
												</button>
											</li> #}
	</div>
	{% if (col == 3) %}
	</div>
	{% set col = 1 %}
{% else %}
	{% set col = col + 1 %}
{% endif %}{% endfor %}</ul></div>{% else %}<h1 class="mt-3 mb-5">Aucune catégorie trouvée!</h1>{% endif %}</div>{% endblock %}
