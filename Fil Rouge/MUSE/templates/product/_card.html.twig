<div class="card bg-dark border border-secondary">

	<a href="{{ path('app_product_show', {'id': product.id}) }}"><img src="/img/{{ product.image }}" class="card-img-top img-thumbnail border border-dark" onerror="this.onerror=null; this.src='{{ product.image }}'"></a>
	{# <img src="/img/{{ product.image }}" class="card-img-top thumbnail-image" onerror="this.onerror=null; this.remove();"> #}

	<div class="card-body d-flex flex-column">
		<h3 class="card-title">{{ product.name }}</h3>
		<div class="card-text text-primary" style="font-weight: bold; font-size: 1.5rem; text-align: right;">
			{% if product.discount %}
			<s class="text-warning">{{ product.price | number_format(0, ',', '') }}
			€</s>
			{% else %}
			{{ product.price | number_format(0, ',', '') }}
			€
			{% endif %}
			{% if product.discount %}
				<h4 class="text text-warning">En promotion!</h4>
			{% endif %}
		</div>
		<p class="text text-muted">{{ product.description }}</p>
		<div>
			{% for c in product.categories %}
				<a class="text-decoration-none" href="{{ path('app_catalogue', {'category': c.id}) }}"><em class="text-info text-primary text-italic">#{{ c.name }}</em></a>
			    {% endfor %}
		</div>
		<div class="card-footer mt-auto">
			<a href="{{ path('app_cart_add', {'id': product.id}) }}" title="Ajouter au panier" class="btn btn-primary float-right {% if product.quantity == 0 %} disabled btn-secondary {% endif %}">
				<i class="fa-solid fa-cart-plus"></i>
			</a>


			<span class="position-relative">
				{% if product.quantity == 0 %}
					<br><h3 class="d-flex text-secondary align-self-middle">Rupture de stock !</h3>
				{% else %}
					<br><h3>
						<small>(<b>{{product.quantity}}</b>
							en stock)</small>
					</h3>
				{% endif %}
			</span>

		</div>
	</div>
</div>
