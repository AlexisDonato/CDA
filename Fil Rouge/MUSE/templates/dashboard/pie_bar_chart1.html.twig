{% block head %}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      // Load Charts and the corechart and barchart packages.
      google.charts.load('current', {'packages':['corechart']});

      // Draw the pie chart and bar chart when Charts is loaded.
      google.charts.setOnLoadCallback(drawPieBarChart);

      function drawPieBarChart() {

        var data = new google.visualization.DataTable();
        data.addColumn('string', 'quantity');
        data.addColumn('number', 'quantit√©s en stock');
        data.addRows([
          {% for product in products %}
          ['{{product.name}}', {{product.quantity}}],
          {% endfor %}
          // ['Produit 1', 5],
          // ['Produit 2', 1],
          // ['Produit 3', 2],
          // ['Produit 4', 1],
           ['Produit 5', 10]
        ]);

        var piechart_options = {
                       title:'Produits en stock',
                       width:400,
                       height:300,
                       is3D: true,
                       };
        var piechart = new google.visualization.PieChart(document.getElementById('piechart_div'));
        piechart.draw(data, piechart_options);

        var barchart_options = {
                       title:'Produits en stock',
                       width:400,
                       height:300,
                       legend: 'none'
                       };
        var barchart = new google.visualization.BarChart(document.getElementById('barchart_div'));
        barchart.draw(data, barchart_options);
      }
    </script>
{% endblock %}